{"text": "2025-12-26 17:27:08.265 | ERROR    | homework_2:custom_app_error:34 - Демонстрационная ошибка\nTraceback (most recent call last):\n\n  File \"<string>\", line 1, in <module>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/multiprocessing/spawn.py\", line 122, in spawn_main\n    exitcode = _main(fd, parent_sentinel)\n               │     │   └ 4\n               │     └ 7\n               └ <function _main at 0x1057af8a0>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/multiprocessing/spawn.py\", line 135, in _main\n    return self._bootstrap(parent_sentinel)\n           │    │          └ 4\n           │    └ <function BaseProcess._bootstrap at 0x1056677f0>\n           └ <SpawnProcess name='SpawnProcess-1' parent=14108 started>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/multiprocessing/process.py\", line 320, in _bootstrap\n    self.run()\n    │    └ <function BaseProcess.run at 0x105666b90>\n    └ <SpawnProcess name='SpawnProcess-1' parent=14108 started>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/multiprocessing/process.py\", line 108, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x105746270>, 'target': <bound method Server.run of <uvicorn.server.Server object...\n    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=14108 started>\n    │    │        │    └ ()\n    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=14108 started>\n    │    └ <function subprocess_started at 0x10a8062a0>\n    └ <SpawnProcess name='SpawnProcess-1' parent=14108 started>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/uvicorn/_subprocess.py\", line 80, in subprocess_started\n    target(sockets=sockets)\n    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]\n    └ <bound method Server.run of <uvicorn.server.Server object at 0x10a8d96a0>>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/uvicorn/server.py\", line 67, in run\n    return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())\n           │           │    │             │                      │    │      └ <function Config.get_loop_factory at 0x10a7366c0>\n           │           │    │             │                      │    └ <uvicorn.config.Config object at 0x105746270>\n           │           │    │             │                      └ <uvicorn.server.Server object at 0x10a8d96a0>\n           │           │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]\n           │           │    └ <function Server.serve at 0x10a781bc0>\n           │           └ <uvicorn.server.Server object at 0x10a8d96a0>\n           └ <function run at 0x10a37e400>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/asyncio/runners.py\", line 204, in run\n    return runner.run(main)\n           │      │   └ <coroutine object Server.serve at 0x10a97b6a0>\n           │      └ <function Runner.run at 0x10a37e820>\n           └ <asyncio.runners.Runner object at 0x10a8da900>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/asyncio/runners.py\", line 127, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14...\n           │    │     └ <cyfunction Loop.run_until_complete at 0x10a8c1fc0>\n           │    └ <uvloop.Loop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x10a8da900>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/uvicorn/protocols/http/httptools_impl.py\", line 409, in run_asgi\n    result = await app(  # type: ignore[func-returns-value]\n                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10c29e660>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py\", line 60, in __call__\n    return await self.app(scope, receive, send)\n                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c399e50>>\n                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c399e...\n                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n                 │    └ <fastapi.applications.FastAPI object at 0x10c29ee40>\n                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10c29e660>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/applications.py\", line 1139, in __call__\n    await super().__call__(scope, receive, send)\n                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c399e50>>\n                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c399e...\n                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/applications.py\", line 107, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c399e50>>\n          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c399e...\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c3b4050>\n          └ <fastapi.applications.FastAPI object at 0x10c29ee40>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10c396350>\n          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c399e...\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10c29fe00>\n          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c3b4050>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10c396350>\n          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c399e...\n          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          │                            │    │    └ <starlette.requests.Request object at 0x10c39a490>\n          │                            │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10c29fcb0>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10c29fe00>\n          └ <function wrap_app_handling_exceptions at 0x10c27e560>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10c3978a0>\n          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c399e...\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10c29fcb0>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10c3978a0>\n          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c399e...\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          │    └ <fastapi.routing.APIRouter object at 0x10c26bc50>\n          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10c29fcb0>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10c3978a0>\n          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c399e...\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x10c26bc50>>\n          └ <fastapi.routing.APIRouter object at 0x10c26bc50>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10c3978a0>\n          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c399e...\n          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          │     └ <function Route.handle at 0x10c2a5220>\n          └ APIRoute(path='/error', name='error', methods=['GET'])\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10c3978a0>\n          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c399e...\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          │    └ <function request_response.<locals>.app at 0x10c3971c0>\n          └ APIRoute(path='/error', name='error', methods=['GET'])\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py\", line 120, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10c3978a0>\n          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c399e...\n          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          │                            │    └ <starlette.requests.Request object at 0x10c381220>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x10c397a00>\n          └ <function wrap_app_handling_exceptions at 0x10c27e560>\n> File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10c397cc0>\n          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c399e...\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          └ <function request_response.<locals>.app.<locals>.app at 0x10c397a00>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py\", line 106, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x10c381220>\n                     └ <function get_request_handler.<locals>.app at 0x10c397060>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py\", line 430, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x10c2adb10>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py\", line 316, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {}\n                 │         └ <function error at 0x10c396e50>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[], dependencies=[], name=None, ca...\n\n  File \"/Users/fadeaway/software/INEEDWORK/python_async_bootcamp/FastAPI_camp/stepik/day12/homework_2.py\", line 66, in error\n    raise CustomAppError(\"Демонстрационная ошибка\", code=418)\n          └ <class 'homework_2.CustomAppError'>\n\nhomework_2.CustomAppError: Демонстрационная ошибка\n", "record": {"elapsed": {"repr": "0:00:20.982651", "seconds": 20.982651}, "exception": {"type": "CustomAppError", "value": "Демонстрационная ошибка", "traceback": true}, "extra": {"method": "GET", "path": "/error", "code": 418}, "file": {"name": "homework_2.py", "path": "/Users/fadeaway/software/INEEDWORK/python_async_bootcamp/FastAPI_camp/stepik/day12/homework_2.py"}, "function": "custom_app_error", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 34, "message": "Демонстрационная ошибка", "module": "homework_2", "name": "homework_2", "process": {"id": 14110, "name": "SpawnProcess-1"}, "thread": {"id": 8639864960, "name": "MainThread"}, "time": {"repr": "2025-12-26 17:27:08.265424+03:00", "timestamp": 1766759228.265424}}}
{"text": "2025-12-26 17:27:23.476 | ERROR    | homework_2:global_exception:49 - invalid literal for int() with base 10: 'not-an-int'\nTraceback (most recent call last):\n\n  File \"<string>\", line 1, in <module>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/multiprocessing/spawn.py\", line 122, in spawn_main\n    exitcode = _main(fd, parent_sentinel)\n               │     │   └ 4\n               │     └ 7\n               └ <function _main at 0x1057af8a0>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/multiprocessing/spawn.py\", line 135, in _main\n    return self._bootstrap(parent_sentinel)\n           │    │          └ 4\n           │    └ <function BaseProcess._bootstrap at 0x1056677f0>\n           └ <SpawnProcess name='SpawnProcess-1' parent=14108 started>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/multiprocessing/process.py\", line 320, in _bootstrap\n    self.run()\n    │    └ <function BaseProcess.run at 0x105666b90>\n    └ <SpawnProcess name='SpawnProcess-1' parent=14108 started>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/multiprocessing/process.py\", line 108, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x105746270>, 'target': <bound method Server.run of <uvicorn.server.Server object...\n    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=14108 started>\n    │    │        │    └ ()\n    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=14108 started>\n    │    └ <function subprocess_started at 0x10a8062a0>\n    └ <SpawnProcess name='SpawnProcess-1' parent=14108 started>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/uvicorn/_subprocess.py\", line 80, in subprocess_started\n    target(sockets=sockets)\n    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]\n    └ <bound method Server.run of <uvicorn.server.Server object at 0x10a8d96a0>>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/uvicorn/server.py\", line 67, in run\n    return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())\n           │           │    │             │                      │    │      └ <function Config.get_loop_factory at 0x10a7366c0>\n           │           │    │             │                      │    └ <uvicorn.config.Config object at 0x105746270>\n           │           │    │             │                      └ <uvicorn.server.Server object at 0x10a8d96a0>\n           │           │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]\n           │           │    └ <function Server.serve at 0x10a781bc0>\n           │           └ <uvicorn.server.Server object at 0x10a8d96a0>\n           └ <function run at 0x10a37e400>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/asyncio/runners.py\", line 204, in run\n    return runner.run(main)\n           │      │   └ <coroutine object Server.serve at 0x10a97b6a0>\n           │      └ <function Runner.run at 0x10a37e820>\n           └ <asyncio.runners.Runner object at 0x10a8da900>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/asyncio/runners.py\", line 127, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14...\n           │    │     └ <cyfunction Loop.run_until_complete at 0x10a8c1fc0>\n           │    └ <uvloop.Loop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x10a8da900>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/uvicorn/protocols/http/httptools_impl.py\", line 409, in run_asgi\n    result = await app(  # type: ignore[func-returns-value]\n                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10c29e660>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py\", line 60, in __call__\n    return await self.app(scope, receive, send)\n                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c399d10>>\n                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c399d...\n                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n                 │    └ <fastapi.applications.FastAPI object at 0x10c29ee40>\n                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10c29e660>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/applications.py\", line 1139, in __call__\n    await super().__call__(scope, receive, send)\n                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c399d10>>\n                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c399d...\n                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/applications.py\", line 107, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c399d10>>\n          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c399d...\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c3b4050>\n          └ <fastapi.applications.FastAPI object at 0x10c29ee40>\n> File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10c397e20>\n          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c399d...\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10c29fe00>\n          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c3b4050>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10c397e20>\n          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c399d...\n          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          │                            │    │    └ <starlette.requests.Request object at 0x10c380fc0>\n          │                            │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10c29fcb0>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10c29fe00>\n          └ <function wrap_app_handling_exceptions at 0x10c27e560>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10c3978a0>\n          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c399d...\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10c29fcb0>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10c3978a0>\n          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c399d...\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          │    └ <fastapi.routing.APIRouter object at 0x10c26bc50>\n          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10c29fcb0>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10c3978a0>\n          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c399d...\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x10c26bc50>>\n          └ <fastapi.routing.APIRouter object at 0x10c26bc50>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10c3978a0>\n          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c399d...\n          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          │     └ <function Route.handle at 0x10c2a5220>\n          └ APIRoute(path='/boom', name='boom', methods=['GET'])\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10c3978a0>\n          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c399d...\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          │    └ <function request_response.<locals>.app at 0x10c3975e0>\n          └ APIRoute(path='/boom', name='boom', methods=['GET'])\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py\", line 120, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10c3978a0>\n          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c399d...\n          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          │                            │    └ <starlette.requests.Request object at 0x10c3668d0>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x10c397a00>\n          └ <function wrap_app_handling_exceptions at 0x10c27e560>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10c397cc0>\n          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c399d...\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          └ <function request_response.<locals>.app.<locals>.app at 0x10c397a00>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py\", line 106, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x10c3668d0>\n                     └ <function get_request_handler.<locals>.app at 0x10c397480>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py\", line 430, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x10c2adb10>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py\", line 316, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {}\n                 │         └ <function boom at 0x10c397270>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[], dependencies=[], name=None, ca...\n\n  File \"/Users/fadeaway/software/INEEDWORK/python_async_bootcamp/FastAPI_camp/stepik/day12/homework_2.py\", line 83, in boom\n    random.choice([div_by_zero, key_err, value_err, runtime_err])()\n    │      │       │            │        │          └ <function boom.<locals>.runtime_err at 0x10c3beda0>\n    │      │       │            │        └ <function boom.<locals>.value_err at 0x10c3bc040>\n    │      │       │            └ <function boom.<locals>.key_err at 0x10c397ed0>\n    │      │       └ <function boom.<locals>.div_by_zero at 0x10c397d70>\n    │      └ <bound method Random.choice of <random.Random object at 0x9d9090020>>\n    └ <module 'random' from '/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/random.py'>\n\n  File \"/Users/fadeaway/software/INEEDWORK/python_async_bootcamp/FastAPI_camp/stepik/day12/homework_2.py\", line 78, in value_err\n    return int(\"not-an-int\")\n\nValueError: invalid literal for int() with base 10: 'not-an-int'\n", "record": {"elapsed": {"repr": "0:00:36.193268", "seconds": 36.193268}, "exception": {"type": "ValueError", "value": "invalid literal for int() with base 10: 'not-an-int'", "traceback": true}, "extra": {"method": "GET", "path": "/boom"}, "file": {"name": "homework_2.py", "path": "/Users/fadeaway/software/INEEDWORK/python_async_bootcamp/FastAPI_camp/stepik/day12/homework_2.py"}, "function": "global_exception", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 49, "message": "invalid literal for int() with base 10: 'not-an-int'", "module": "homework_2", "name": "homework_2", "process": {"id": 14110, "name": "SpawnProcess-1"}, "thread": {"id": 8639864960, "name": "MainThread"}, "time": {"repr": "2025-12-26 17:27:23.476041+03:00", "timestamp": 1766759243.476041}}}
{"text": "2025-12-26 17:28:26.258 | ERROR    | homework_2:global_exception:49 - invalid literal for int() with base 10: 'not-an-int'\nTraceback (most recent call last):\n\n  File \"<string>\", line 1, in <module>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/multiprocessing/spawn.py\", line 122, in spawn_main\n    exitcode = _main(fd, parent_sentinel)\n               │     │   └ 4\n               │     └ 7\n               └ <function _main at 0x1057af8a0>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/multiprocessing/spawn.py\", line 135, in _main\n    return self._bootstrap(parent_sentinel)\n           │    │          └ 4\n           │    └ <function BaseProcess._bootstrap at 0x1056677f0>\n           └ <SpawnProcess name='SpawnProcess-1' parent=14108 started>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/multiprocessing/process.py\", line 320, in _bootstrap\n    self.run()\n    │    └ <function BaseProcess.run at 0x105666b90>\n    └ <SpawnProcess name='SpawnProcess-1' parent=14108 started>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/multiprocessing/process.py\", line 108, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x105746270>, 'target': <bound method Server.run of <uvicorn.server.Server object...\n    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=14108 started>\n    │    │        │    └ ()\n    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=14108 started>\n    │    └ <function subprocess_started at 0x10a8062a0>\n    └ <SpawnProcess name='SpawnProcess-1' parent=14108 started>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/uvicorn/_subprocess.py\", line 80, in subprocess_started\n    target(sockets=sockets)\n    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]\n    └ <bound method Server.run of <uvicorn.server.Server object at 0x10a8d96a0>>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/uvicorn/server.py\", line 67, in run\n    return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())\n           │           │    │             │                      │    │      └ <function Config.get_loop_factory at 0x10a7366c0>\n           │           │    │             │                      │    └ <uvicorn.config.Config object at 0x105746270>\n           │           │    │             │                      └ <uvicorn.server.Server object at 0x10a8d96a0>\n           │           │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]\n           │           │    └ <function Server.serve at 0x10a781bc0>\n           │           └ <uvicorn.server.Server object at 0x10a8d96a0>\n           └ <function run at 0x10a37e400>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/asyncio/runners.py\", line 204, in run\n    return runner.run(main)\n           │      │   └ <coroutine object Server.serve at 0x10a97b6a0>\n           │      └ <function Runner.run at 0x10a37e820>\n           └ <asyncio.runners.Runner object at 0x10a8da900>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/asyncio/runners.py\", line 127, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14...\n           │    │     └ <cyfunction Loop.run_until_complete at 0x10a8c1fc0>\n           │    └ <uvloop.Loop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x10a8da900>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/uvicorn/protocols/http/httptools_impl.py\", line 409, in run_asgi\n    result = await app(  # type: ignore[func-returns-value]\n                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10c29e660>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py\", line 60, in __call__\n    return await self.app(scope, receive, send)\n                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c381480>>\n                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c3814...\n                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n                 │    └ <fastapi.applications.FastAPI object at 0x10c29ee40>\n                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10c29e660>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/applications.py\", line 1139, in __call__\n    await super().__call__(scope, receive, send)\n                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c381480>>\n                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c3814...\n                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/applications.py\", line 107, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c381480>>\n          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c3814...\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c3b4050>\n          └ <fastapi.applications.FastAPI object at 0x10c29ee40>\n> File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10c396560>\n          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c3814...\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10c29fe00>\n          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c3b4050>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10c396560>\n          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c3814...\n          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          │                            │    │    └ <starlette.requests.Request object at 0x10c38c380>\n          │                            │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10c29fcb0>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10c29fe00>\n          └ <function wrap_app_handling_exceptions at 0x10c27e560>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10c397690>\n          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c3814...\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10c29fcb0>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10c397690>\n          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c3814...\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          │    └ <fastapi.routing.APIRouter object at 0x10c26bc50>\n          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10c29fcb0>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10c397690>\n          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c3814...\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x10c26bc50>>\n          └ <fastapi.routing.APIRouter object at 0x10c26bc50>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10c397690>\n          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c3814...\n          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          │     └ <function Route.handle at 0x10c2a5220>\n          └ APIRoute(path='/boom', name='boom', methods=['GET'])\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10c397690>\n          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c3814...\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          │    └ <function request_response.<locals>.app at 0x10c3975e0>\n          └ APIRoute(path='/boom', name='boom', methods=['GET'])\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py\", line 120, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10c397690>\n          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c3814...\n          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          │                            │    └ <starlette.requests.Request object at 0x10c359750>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x10c397950>\n          └ <function wrap_app_handling_exceptions at 0x10c27e560>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10c397ab0>\n          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c3814...\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          └ <function request_response.<locals>.app.<locals>.app at 0x10c397950>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py\", line 106, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x10c359750>\n                     └ <function get_request_handler.<locals>.app at 0x10c397480>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py\", line 430, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x10c2adb10>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py\", line 316, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {}\n                 │         └ <function boom at 0x10c397270>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[], dependencies=[], name=None, ca...\n\n  File \"/Users/fadeaway/software/INEEDWORK/python_async_bootcamp/FastAPI_camp/stepik/day12/homework_2.py\", line 83, in boom\n    random.choice([div_by_zero, key_err, value_err, runtime_err])()\n    │      │       │            │        │          └ <function boom.<locals>.runtime_err at 0x10c3beda0>\n    │      │       │            │        └ <function boom.<locals>.value_err at 0x10c3bc040>\n    │      │       │            └ <function boom.<locals>.key_err at 0x10c397ed0>\n    │      │       └ <function boom.<locals>.div_by_zero at 0x10c397d70>\n    │      └ <bound method Random.choice of <random.Random object at 0x9d9090020>>\n    └ <module 'random' from '/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/random.py'>\n\n  File \"/Users/fadeaway/software/INEEDWORK/python_async_bootcamp/FastAPI_camp/stepik/day12/homework_2.py\", line 78, in value_err\n    return int(\"not-an-int\")\n\nValueError: invalid literal for int() with base 10: 'not-an-int'\n", "record": {"elapsed": {"repr": "0:01:38.975893", "seconds": 98.975893}, "exception": {"type": "ValueError", "value": "invalid literal for int() with base 10: 'not-an-int'", "traceback": true}, "extra": {"method": "GET", "path": "/boom"}, "file": {"name": "homework_2.py", "path": "/Users/fadeaway/software/INEEDWORK/python_async_bootcamp/FastAPI_camp/stepik/day12/homework_2.py"}, "function": "global_exception", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 49, "message": "invalid literal for int() with base 10: 'not-an-int'", "module": "homework_2", "name": "homework_2", "process": {"id": 14110, "name": "SpawnProcess-1"}, "thread": {"id": 8639864960, "name": "MainThread"}, "time": {"repr": "2025-12-26 17:28:26.258666+03:00", "timestamp": 1766759306.258666}}}
{"text": "2025-12-26 17:28:27.244 | ERROR    | homework_2:global_exception:49 - 'missing'\nTraceback (most recent call last):\n\n  File \"<string>\", line 1, in <module>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/multiprocessing/spawn.py\", line 122, in spawn_main\n    exitcode = _main(fd, parent_sentinel)\n               │     │   └ 4\n               │     └ 7\n               └ <function _main at 0x1057af8a0>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/multiprocessing/spawn.py\", line 135, in _main\n    return self._bootstrap(parent_sentinel)\n           │    │          └ 4\n           │    └ <function BaseProcess._bootstrap at 0x1056677f0>\n           └ <SpawnProcess name='SpawnProcess-1' parent=14108 started>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/multiprocessing/process.py\", line 320, in _bootstrap\n    self.run()\n    │    └ <function BaseProcess.run at 0x105666b90>\n    └ <SpawnProcess name='SpawnProcess-1' parent=14108 started>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/multiprocessing/process.py\", line 108, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x105746270>, 'target': <bound method Server.run of <uvicorn.server.Server object...\n    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=14108 started>\n    │    │        │    └ ()\n    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=14108 started>\n    │    └ <function subprocess_started at 0x10a8062a0>\n    └ <SpawnProcess name='SpawnProcess-1' parent=14108 started>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/uvicorn/_subprocess.py\", line 80, in subprocess_started\n    target(sockets=sockets)\n    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]\n    └ <bound method Server.run of <uvicorn.server.Server object at 0x10a8d96a0>>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/uvicorn/server.py\", line 67, in run\n    return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())\n           │           │    │             │                      │    │      └ <function Config.get_loop_factory at 0x10a7366c0>\n           │           │    │             │                      │    └ <uvicorn.config.Config object at 0x105746270>\n           │           │    │             │                      └ <uvicorn.server.Server object at 0x10a8d96a0>\n           │           │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]\n           │           │    └ <function Server.serve at 0x10a781bc0>\n           │           └ <uvicorn.server.Server object at 0x10a8d96a0>\n           └ <function run at 0x10a37e400>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/asyncio/runners.py\", line 204, in run\n    return runner.run(main)\n           │      │   └ <coroutine object Server.serve at 0x10a97b6a0>\n           │      └ <function Runner.run at 0x10a37e820>\n           └ <asyncio.runners.Runner object at 0x10a8da900>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/asyncio/runners.py\", line 127, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14...\n           │    │     └ <cyfunction Loop.run_until_complete at 0x10a8c1fc0>\n           │    └ <uvloop.Loop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x10a8da900>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/uvicorn/protocols/http/httptools_impl.py\", line 409, in run_asgi\n    result = await app(  # type: ignore[func-returns-value]\n                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10c29e660>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py\", line 60, in __call__\n    return await self.app(scope, receive, send)\n                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c381a70>>\n                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c381a...\n                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n                 │    └ <fastapi.applications.FastAPI object at 0x10c29ee40>\n                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10c29e660>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/applications.py\", line 1139, in __call__\n    await super().__call__(scope, receive, send)\n                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c381a70>>\n                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c381a...\n                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/applications.py\", line 107, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c381a70>>\n          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c381a...\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c3b4050>\n          └ <fastapi.applications.FastAPI object at 0x10c29ee40>\n> File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10c396350>\n          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c381a...\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10c29fe00>\n          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c3b4050>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10c396350>\n          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c381a...\n          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          │                            │    │    └ <starlette.requests.Request object at 0x10c3ac7d0>\n          │                            │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10c29fcb0>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10c29fe00>\n          └ <function wrap_app_handling_exceptions at 0x10c27e560>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10c3978a0>\n          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c381a...\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10c29fcb0>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10c3978a0>\n          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c381a...\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          │    └ <fastapi.routing.APIRouter object at 0x10c26bc50>\n          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10c29fcb0>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10c3978a0>\n          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c381a...\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x10c26bc50>>\n          └ <fastapi.routing.APIRouter object at 0x10c26bc50>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10c3978a0>\n          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c381a...\n          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          │     └ <function Route.handle at 0x10c2a5220>\n          └ APIRoute(path='/boom', name='boom', methods=['GET'])\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10c3978a0>\n          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c381a...\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          │    └ <function request_response.<locals>.app at 0x10c3975e0>\n          └ APIRoute(path='/boom', name='boom', methods=['GET'])\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py\", line 120, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10c3978a0>\n          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c381a...\n          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          │                            │    └ <starlette.requests.Request object at 0x10c3ace60>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x10c397a00>\n          └ <function wrap_app_handling_exceptions at 0x10c27e560>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10c397cc0>\n          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c381a...\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          └ <function request_response.<locals>.app.<locals>.app at 0x10c397a00>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py\", line 106, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x10c3ace60>\n                     └ <function get_request_handler.<locals>.app at 0x10c397480>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py\", line 430, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x10c2adb10>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py\", line 316, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {}\n                 │         └ <function boom at 0x10c397270>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[], dependencies=[], name=None, ca...\n\n  File \"/Users/fadeaway/software/INEEDWORK/python_async_bootcamp/FastAPI_camp/stepik/day12/homework_2.py\", line 83, in boom\n    random.choice([div_by_zero, key_err, value_err, runtime_err])()\n    │      │       │            │        │          └ <function boom.<locals>.runtime_err at 0x10c3beda0>\n    │      │       │            │        └ <function boom.<locals>.value_err at 0x10c3bc040>\n    │      │       │            └ <function boom.<locals>.key_err at 0x10c397ed0>\n    │      │       └ <function boom.<locals>.div_by_zero at 0x10c397d70>\n    │      └ <bound method Random.choice of <random.Random object at 0x9d9090020>>\n    └ <module 'random' from '/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/random.py'>\n\n  File \"/Users/fadeaway/software/INEEDWORK/python_async_bootcamp/FastAPI_camp/stepik/day12/homework_2.py\", line 75, in key_err\n    return {}[\"missing\"]\n\nKeyError: 'missing'\n", "record": {"elapsed": {"repr": "0:01:39.961947", "seconds": 99.961947}, "exception": {"type": "KeyError", "value": "'missing'", "traceback": true}, "extra": {"method": "GET", "path": "/boom"}, "file": {"name": "homework_2.py", "path": "/Users/fadeaway/software/INEEDWORK/python_async_bootcamp/FastAPI_camp/stepik/day12/homework_2.py"}, "function": "global_exception", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 49, "message": "'missing'", "module": "homework_2", "name": "homework_2", "process": {"id": 14110, "name": "SpawnProcess-1"}, "thread": {"id": 8639864960, "name": "MainThread"}, "time": {"repr": "2025-12-26 17:28:27.244720+03:00", "timestamp": 1766759307.24472}}}
{"text": "2025-12-26 17:28:28.686 | ERROR    | homework_2:global_exception:49 - invalid literal for int() with base 10: 'not-an-int'\nTraceback (most recent call last):\n\n  File \"<string>\", line 1, in <module>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/multiprocessing/spawn.py\", line 122, in spawn_main\n    exitcode = _main(fd, parent_sentinel)\n               │     │   └ 4\n               │     └ 7\n               └ <function _main at 0x1057af8a0>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/multiprocessing/spawn.py\", line 135, in _main\n    return self._bootstrap(parent_sentinel)\n           │    │          └ 4\n           │    └ <function BaseProcess._bootstrap at 0x1056677f0>\n           └ <SpawnProcess name='SpawnProcess-1' parent=14108 started>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/multiprocessing/process.py\", line 320, in _bootstrap\n    self.run()\n    │    └ <function BaseProcess.run at 0x105666b90>\n    └ <SpawnProcess name='SpawnProcess-1' parent=14108 started>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/multiprocessing/process.py\", line 108, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x105746270>, 'target': <bound method Server.run of <uvicorn.server.Server object...\n    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=14108 started>\n    │    │        │    └ ()\n    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=14108 started>\n    │    └ <function subprocess_started at 0x10a8062a0>\n    └ <SpawnProcess name='SpawnProcess-1' parent=14108 started>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/uvicorn/_subprocess.py\", line 80, in subprocess_started\n    target(sockets=sockets)\n    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]\n    └ <bound method Server.run of <uvicorn.server.Server object at 0x10a8d96a0>>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/uvicorn/server.py\", line 67, in run\n    return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())\n           │           │    │             │                      │    │      └ <function Config.get_loop_factory at 0x10a7366c0>\n           │           │    │             │                      │    └ <uvicorn.config.Config object at 0x105746270>\n           │           │    │             │                      └ <uvicorn.server.Server object at 0x10a8d96a0>\n           │           │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('127.0.0.1', 8000)>]\n           │           │    └ <function Server.serve at 0x10a781bc0>\n           │           └ <uvicorn.server.Server object at 0x10a8d96a0>\n           └ <function run at 0x10a37e400>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/asyncio/runners.py\", line 204, in run\n    return runner.run(main)\n           │      │   └ <coroutine object Server.serve at 0x10a97b6a0>\n           │      └ <function Runner.run at 0x10a37e820>\n           └ <asyncio.runners.Runner object at 0x10a8da900>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/asyncio/runners.py\", line 127, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14...\n           │    │     └ <cyfunction Loop.run_until_complete at 0x10a8c1fc0>\n           │    └ <uvloop.Loop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x10a8da900>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/uvicorn/protocols/http/httptools_impl.py\", line 409, in run_asgi\n    result = await app(  # type: ignore[func-returns-value]\n                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10c29e660>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/uvicorn/middleware/proxy_headers.py\", line 60, in __call__\n    return await self.app(scope, receive, send)\n                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c1f83b0>>\n                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c1f83...\n                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n                 │    └ <fastapi.applications.FastAPI object at 0x10c29ee40>\n                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10c29e660>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/applications.py\", line 1139, in __call__\n    await super().__call__(scope, receive, send)\n                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c1f83b0>>\n                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c1f83...\n                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/applications.py\", line 107, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c1f83b0>>\n          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c1f83...\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c3b4050>\n          └ <fastapi.applications.FastAPI object at 0x10c29ee40>\n> File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10c396560>\n          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c1f83...\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10c29fe00>\n          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10c3b4050>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10c396560>\n          │                            │    │    │     │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c1f83...\n          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          │                            │    │    └ <starlette.requests.Request object at 0x10c45a970>\n          │                            │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10c29fcb0>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10c29fe00>\n          └ <function wrap_app_handling_exceptions at 0x10c27e560>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10c397690>\n          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c1f83...\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10c29fcb0>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10c397690>\n          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c1f83...\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          │    └ <fastapi.routing.APIRouter object at 0x10c26bc50>\n          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x10c29fcb0>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10c397690>\n          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c1f83...\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x10c26bc50>>\n          └ <fastapi.routing.APIRouter object at 0x10c26bc50>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10c397690>\n          │     │      │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c1f83...\n          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          │     └ <function Route.handle at 0x10c2a5220>\n          └ APIRoute(path='/boom', name='boom', methods=['GET'])\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10c397690>\n          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c1f83...\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          │    └ <function request_response.<locals>.app at 0x10c3975e0>\n          └ APIRoute(path='/boom', name='boom', methods=['GET'])\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py\", line 120, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10c397690>\n          │                            │    │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c1f83...\n          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          │                            │    └ <starlette.requests.Request object at 0x10c3a0600>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x10c397950>\n          └ <function wrap_app_handling_exceptions at 0x10c27e560>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10c397ab0>\n          │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x10c1f83...\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...\n          └ <function request_response.<locals>.app.<locals>.app at 0x10c397950>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py\", line 106, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x10c3a0600>\n                     └ <function get_request_handler.<locals>.app at 0x10c397480>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py\", line 430, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x10c2adb10>\n  File \"/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py\", line 316, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {}\n                 │         └ <function boom at 0x10c397270>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[], dependencies=[], name=None, ca...\n\n  File \"/Users/fadeaway/software/INEEDWORK/python_async_bootcamp/FastAPI_camp/stepik/day12/homework_2.py\", line 83, in boom\n    random.choice([div_by_zero, key_err, value_err, runtime_err])()\n    │      │       │            │        │          └ <function boom.<locals>.runtime_err at 0x10c3bf060>\n    │      │       │            │        └ <function boom.<locals>.value_err at 0x10c3bee50>\n    │      │       │            └ <function boom.<locals>.key_err at 0x10c3beda0>\n    │      │       └ <function boom.<locals>.div_by_zero at 0x10c3bc040>\n    │      └ <bound method Random.choice of <random.Random object at 0x9d9090020>>\n    └ <module 'random' from '/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/random.py'>\n\n  File \"/Users/fadeaway/software/INEEDWORK/python_async_bootcamp/FastAPI_camp/stepik/day12/homework_2.py\", line 78, in value_err\n    return int(\"not-an-int\")\n\nValueError: invalid literal for int() with base 10: 'not-an-int'\n", "record": {"elapsed": {"repr": "0:01:41.403523", "seconds": 101.403523}, "exception": {"type": "ValueError", "value": "invalid literal for int() with base 10: 'not-an-int'", "traceback": true}, "extra": {"method": "GET", "path": "/boom"}, "file": {"name": "homework_2.py", "path": "/Users/fadeaway/software/INEEDWORK/python_async_bootcamp/FastAPI_camp/stepik/day12/homework_2.py"}, "function": "global_exception", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 49, "message": "invalid literal for int() with base 10: 'not-an-int'", "module": "homework_2", "name": "homework_2", "process": {"id": 14110, "name": "SpawnProcess-1"}, "thread": {"id": 8639864960, "name": "MainThread"}, "time": {"repr": "2025-12-26 17:28:28.686296+03:00", "timestamp": 1766759308.686296}}}
